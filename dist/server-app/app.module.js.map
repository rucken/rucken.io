{"version":3,"file":"app.module.js","sourceRoot":"","sources":["../../server/app.module.ts"],"names":[],"mappings":";;;AAAA,2CAAwD;AACxD,uCAAwC;AACxC,uDAA2E;AAC3E,+BAA4B;AAC5B,qCAAkC;AAClC,+CAAgD;AAChD,6CAAmE;AAEnE,MAAM,WAAW,GAAG,WAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,cAAc,CAAC,CAAC;AACxD,0BAAW,CAAC,MAAM,EAAE,WAAI,CAAC,WAAW,EAAE,YAAY,CAAC,CAAC,CAAC;AA8BrD,IAAa,iBAAiB,GAA9B,MAAa,iBAAiB;CAAI,CAAA;AAArB,iBAAiB;IA5B7B,eAAM,CAAC;QACN,OAAO,EAAE;YACP,qBAAY,CAAC,OAAO,CAAC;gBACnB,SAAS,EAAE,eAAM,CAAC,MAAM,CAAC,SAAS;gBAClC,QAAQ,EAAE;oBACR,IAAI,EAAE,IAAI,eAAM,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,MAAM,eAAM,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,GAAG;iBACjF;gBACD,QAAQ,EAAE;oBACR,GAAG,EAAE,WAAI,CAAC,eAAM,CAAC,OAAO,CAAC,IAAI,EAAE,WAAW,CAAC;oBAC3C,OAAO,EAAE,IAAI,0BAAiB,EAAE;oBAChC,OAAO,EAAE;wBACP,MAAM,EAAE,IAAI;qBACb;iBACF;aACF,CAAC;YACF,qCAAsB,CAAC,OAAO,CAAC;gBAC7B,SAAS,EAAE,WAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,cAAc,CAAC;gBAC9C,MAAM,EAAE,OAAO,CAAC,gBAAgB,CAAC;gBACjC,UAAU,EAAE,IAAI;aACjB,CAAC;SACH;QACD,WAAW,EAAE;YACX,GAAG,6BAAe;SACnB;QACD,SAAS,EAAE;YACT,EAAE,OAAO,EAAE,eAAQ,EAAE,UAAU,EAAE,GAAG,EAAE,CAAC,IAAI,uBAAc,CAAC,EAAE,eAAe,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE,EAAE,CAAC,EAAE;SACpG;KACF,CAAC;GACW,iBAAiB,CAAI;AAArB,8CAAiB","sourcesContent":["import { Module, ValidationPipe } from '@nestjs/common';\nimport { APP_PIPE } from '@nestjs/core';\nimport { AngularUniversalModule, applyDomino } from '@nestjs/ng-universal';\nimport { join } from 'path';\nimport { config } from './config';\nimport { APP_CONTROLLERS } from './controllers';\nimport { HandlebarsAdapter, MailerModule } from './modules/mailer';\n\nconst BROWSER_DIR = join(process.cwd(), 'dist/browser');\napplyDomino(global, join(BROWSER_DIR, 'index.html'));\n\n@Module({\n  imports: [\n    MailerModule.forRoot({\n      transport: config.mailer.transport,\n      defaults: {\n        from: `\"${config.mailer.users.robot.name}\" <${config.mailer.users.robot.email}>`,\n      },\n      template: {\n        dir: join(config.project.path, 'templates'),\n        adapter: new HandlebarsAdapter(),\n        options: {\n          strict: true,\n        },\n      },\n    }),\n    AngularUniversalModule.forRoot({\n      viewsPath: join(process.cwd(), 'dist/browser'),\n      bundle: require('../server/main'),\n      liveReload: true\n    })\n  ],\n  controllers: [\n    ...APP_CONTROLLERS\n  ],\n  providers: [\n    { provide: APP_PIPE, useFactory: () => new ValidationPipe({ validationError: { target: false } }) }\n  ]\n})\nexport class ApplicationModule { }\n"]}